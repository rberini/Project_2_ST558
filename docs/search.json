[
  {
    "objectID": "mobile_usage_app_prep.html",
    "href": "mobile_usage_app_prep.html",
    "title": "Mobile Device Usage App Prep",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(ggalluvial)\nlibrary(ggmosaic)"
  },
  {
    "objectID": "mobile_usage_app_prep.html#numerical-and-graphical-summaries",
    "href": "mobile_usage_app_prep.html#numerical-and-graphical-summaries",
    "title": "Mobile Device Usage App Prep",
    "section": "Numerical and graphical summaries",
    "text": "Numerical and graphical summaries\n\nOne-way and two-way contingency tables\n\nuser_behavior_dataset |&gt;\n  group_by(device_model) |&gt;\n  summarise(count = n())\n\n# A tibble: 5 × 2\n  device_model       count\n  &lt;fct&gt;              &lt;int&gt;\n1 Google Pixel 5       142\n2 iPhone 12            146\n3 OnePlus 9            133\n4 Samsung Galaxy S21   133\n5 Xiaomi Mi 11         146\n\n\n\nuser_behavior_dataset |&gt;\n  group_by(device_model, gender) |&gt;\n  summarise(count = n()) |&gt;\n  pivot_wider(names_from = gender, values_from = count)\n\n`summarise()` has grouped output by 'device_model'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 5 × 3\n# Groups:   device_model [5]\n  device_model       Female  Male\n  &lt;fct&gt;               &lt;int&gt; &lt;int&gt;\n1 Google Pixel 5         69    73\n2 iPhone 12              74    72\n3 OnePlus 9              61    72\n4 Samsung Galaxy S21     54    79\n5 Xiaomi Mi 11           78    68\n\n\n\n\nNumeric summaries (means, medians, sds, etc.) for quantitative variables at levels of categorical variables\n\nuser_behavior_dataset |&gt;\n  group_by(user_behavior_class) |&gt;\n  summarise(across(where(is.numeric),\n                   list(\"mean\" = mean, \"median\" = median, \"stdev\" = sd, \"IQR\" = IQR),\n                   .names = \"{.fn}_{.col}\"))|&gt;\n  mutate(across(where(is.numeric), round, 2))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `across(where(is.numeric), round, 2)`.\nCaused by warning:\n! The `...` argument of `across()` is deprecated as of dplyr 1.1.0.\nSupply arguments directly to `.fns` through an anonymous function instead.\n\n  # Previously\n  across(a:b, mean, na.rm = TRUE)\n\n  # Now\n  across(a:b, \\(x) mean(x, na.rm = TRUE))\n\n\n# A tibble: 5 × 25\n  user_behavior_class mean_app_usage_time_min_day median_app_usage_time_min_day\n  &lt;fct&gt;                                     &lt;dbl&gt;                         &lt;dbl&gt;\n1 1                                          60.4                           64 \n2 2                                         132.                           132.\n3 3                                         235.                           229 \n4 4                                         396.                           405 \n5 5                                         541.                           540 \n# ℹ 22 more variables: stdev_app_usage_time_min_day &lt;dbl&gt;,\n#   IQR_app_usage_time_min_day &lt;dbl&gt;, mean_screen_on_time_hours_day &lt;dbl&gt;,\n#   median_screen_on_time_hours_day &lt;dbl&gt;,\n#   stdev_screen_on_time_hours_day &lt;dbl&gt;, IQR_screen_on_time_hours_day &lt;dbl&gt;,\n#   mean_battery_drain_m_ah_day &lt;dbl&gt;, median_battery_drain_m_ah_day &lt;dbl&gt;,\n#   stdev_battery_drain_m_ah_day &lt;dbl&gt;, IQR_battery_drain_m_ah_day &lt;dbl&gt;,\n#   mean_number_of_apps_installed &lt;dbl&gt;, …\n\n\n\nuser_behavior_dataset |&gt;\n  group_by(gender) |&gt;\n  summarise(across(where(is.numeric),\n                   list(\"mean\" = mean, \"median\" = median, \"stdev\" = sd, \"IQR\" = IQR),\n                   .names = \"{.fn}_{.col}\"))|&gt;\n  mutate(across(where(is.numeric), round, 2))\n\n# A tibble: 2 × 25\n  gender mean_app_usage_time_min…¹ median_app_usage_tim…² stdev_app_usage_time…³\n  &lt;fct&gt;                      &lt;dbl&gt;                  &lt;dbl&gt;                  &lt;dbl&gt;\n1 Female                      272.                    230                   174.\n2 Male                        270.                    222                   180.\n# ℹ abbreviated names: ¹​mean_app_usage_time_min_day,\n#   ²​median_app_usage_time_min_day, ³​stdev_app_usage_time_min_day\n# ℹ 21 more variables: IQR_app_usage_time_min_day &lt;dbl&gt;,\n#   mean_screen_on_time_hours_day &lt;dbl&gt;, median_screen_on_time_hours_day &lt;dbl&gt;,\n#   stdev_screen_on_time_hours_day &lt;dbl&gt;, IQR_screen_on_time_hours_day &lt;dbl&gt;,\n#   mean_battery_drain_m_ah_day &lt;dbl&gt;, median_battery_drain_m_ah_day &lt;dbl&gt;,\n#   stdev_battery_drain_m_ah_day &lt;dbl&gt;, IQR_battery_drain_m_ah_day &lt;dbl&gt;, …\n\n\n\nuser_behavior_dataset |&gt;\n  group_by(device_model) |&gt;\n  summarise(across(where(is.numeric),\n                   list(\"mean\" = mean, \"median\" = median, \"stdev\" = sd, \"IQR\" = IQR),\n                   .names = \"{.fn}_{.col}\"))|&gt;\n  mutate(across(where(is.numeric), round, 2))\n\n# A tibble: 5 × 25\n  device_model       mean_app_usage_time_min_day median_app_usage_time_min_day\n  &lt;fct&gt;                                    &lt;dbl&gt;                         &lt;dbl&gt;\n1 Google Pixel 5                            268.                          232.\n2 iPhone 12                                 282.                          258.\n3 OnePlus 9                                 270.                          216 \n4 Samsung Galaxy S21                        266.                          217 \n5 Xiaomi Mi 11                              268.                          217 \n# ℹ 22 more variables: stdev_app_usage_time_min_day &lt;dbl&gt;,\n#   IQR_app_usage_time_min_day &lt;dbl&gt;, mean_screen_on_time_hours_day &lt;dbl&gt;,\n#   median_screen_on_time_hours_day &lt;dbl&gt;,\n#   stdev_screen_on_time_hours_day &lt;dbl&gt;, IQR_screen_on_time_hours_day &lt;dbl&gt;,\n#   mean_battery_drain_m_ah_day &lt;dbl&gt;, median_battery_drain_m_ah_day &lt;dbl&gt;,\n#   stdev_battery_drain_m_ah_day &lt;dbl&gt;, IQR_battery_drain_m_ah_day &lt;dbl&gt;,\n#   mean_number_of_apps_installed &lt;dbl&gt;, …\n\n\n\nuser_behavior_dataset |&gt;\n  group_by(operating_system) |&gt;\n  summarise(across(where(is.numeric),\n                   list(\"mean\" = mean, \"median\" = median, \"stdev\" = sd, \"IQR\" = IQR),\n                   .names = \"{.fn}_{.col}\"))|&gt;\n  mutate(across(where(is.numeric), round, 2))\n\n# A tibble: 2 × 25\n  operating_system mean_app_usage_time_min_day median_app_usage_time_min_day\n  &lt;fct&gt;                                  &lt;dbl&gt;                         &lt;dbl&gt;\n1 Android                                 268.                          225 \n2 iOS                                     282.                          258.\n# ℹ 22 more variables: stdev_app_usage_time_min_day &lt;dbl&gt;,\n#   IQR_app_usage_time_min_day &lt;dbl&gt;, mean_screen_on_time_hours_day &lt;dbl&gt;,\n#   median_screen_on_time_hours_day &lt;dbl&gt;,\n#   stdev_screen_on_time_hours_day &lt;dbl&gt;, IQR_screen_on_time_hours_day &lt;dbl&gt;,\n#   mean_battery_drain_m_ah_day &lt;dbl&gt;, median_battery_drain_m_ah_day &lt;dbl&gt;,\n#   stdev_battery_drain_m_ah_day &lt;dbl&gt;, IQR_battery_drain_m_ah_day &lt;dbl&gt;,\n#   mean_number_of_apps_installed &lt;dbl&gt;, …\n\n\n\nuser_behavior_dataset |&gt;\n  ggplot(aes(x = user_behavior_class, fill = device_model)) +\n  geom_bar(position = \"fill\") +\n  xlab(\"User Behavior Class\") +\n  ylab(\"Percent\") +\n  scale_y_continuous(labels = scales::percent) +\n  labs(fill = \"Device Model\") +\n  ggtitle(\"Device Models by User Behavior Class\") +\n  scale_fill_brewer(palette=\"Set1\")\n\n\n\n\n\n\n\n\n\nuser_behavior_dataset |&gt;\n  ggplot(aes(x = gender, fill = user_behavior_class)) +\n  geom_bar(position = \"dodge\") +\n  xlab(\"Gender\") +\n  ylab(\"Count\") +\n  labs(fill = \"User Behavior Class\") +\n  ggtitle(\"User Behavior Class by Gender\") +\n  scale_fill_brewer(palette=\"Set1\")\n\n\n\n\n\n\n\n\n\nuser_behavior_dataset |&gt;\n  ggplot(aes(number_of_apps_installed, operating_system)) +\n  geom_boxplot(aes(fill = operating_system)) +\n  coord_flip() +\n  xlab(\"Number of Apps Installed\") +\n  ylab(\"Operating System\") +\n  labs(title = \"App Installation Distribution\",\n       subtitle = \"Considering Effects of Operating System\", fill = \"Operating System\") +\n  theme(legend.position = \"none\") +\n  scale_fill_brewer(palette=\"Set1\")\n\n\n\n\n\n\n\n\n\nuser_behavior_dataset |&gt;\n  select(where(is.numeric)) |&gt;\n  cor() |&gt;\n  round(2)\n\n                         app_usage_time_min_day screen_on_time_hours_day\napp_usage_time_min_day                     1.00                     0.95\nscreen_on_time_hours_day                   0.95                     1.00\nbattery_drain_m_ah_day                     0.96                     0.95\nnumber_of_apps_installed                   0.96                     0.95\ndata_usage_mb_day                          0.94                     0.94\nage                                        0.00                     0.02\n                         battery_drain_m_ah_day number_of_apps_installed\napp_usage_time_min_day                     0.96                     0.96\nscreen_on_time_hours_day                   0.95                     0.95\nbattery_drain_m_ah_day                     1.00                     0.96\nnumber_of_apps_installed                   0.96                     1.00\ndata_usage_mb_day                          0.93                     0.93\nage                                        0.00                     0.00\n                         data_usage_mb_day  age\napp_usage_time_min_day                0.94 0.00\nscreen_on_time_hours_day              0.94 0.02\nbattery_drain_m_ah_day                0.93 0.00\nnumber_of_apps_installed              0.93 0.00\ndata_usage_mb_day                     1.00 0.00\nage                                   0.00 1.00\n\n\n\nuser_behavior_dataset |&gt;\n  ggplot(aes(age, screen_on_time_hours_day, color = gender)) +\n  geom_point() +\n  scale_color_brewer(palette = \"Set1\") +\n  xlab(\"Age\") +\n  ylab(\"Screen Time\") +\n  labs(title = \"Relationship between Age and Screen Time\",\n       subtitle = \"Considering Effects of Gender and Device Model\",\n       color = \"Gender\") +\n  facet_wrap(~ device_model)\n\n\n\n\n\n\n\n\n\nuser_behavior_dataset |&gt;\n  mutate(screen_time = cut(screen_on_time_hours_day,\n                        breaks = 5,\n                        labels = c(\"Low\", \"Med-Low\", \"Medium\", \"Med-High\", \"High\"))) |&gt;\n  mutate(app_usage = cut(app_usage_time_min_day,\n                        breaks = 5,\n                        labels = c(\"Low\", \"Med-Low\", \"Medium\", \"Med-High\", \"High\"))) |&gt;\n  mutate(data_usage = cut(data_usage_mb_day,\n                        breaks = 5,\n                        labels = c(\"Low\", \"Med-Low\", \"Medium\", \"Med-High\", \"High\"))) |&gt;\n  ggplot(aes(axis1 = app_usage, axis2 = screen_time, axis3 = data_usage)) +\n  geom_alluvium(aes(fill = user_behavior_class)) +\n  geom_stratum() +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"App Usage\", \"Screen Time\", \"Data Usage\")) +\n  labs(fill = \"User Behavior Class\") +\n  ggtitle(\"Analyzing the Composition of User Behavior Class\") +\n  scale_fill_brewer(palette=\"Set1\")\n\n\n\n\n\n\n\n\n\nuser_behavior_dataset |&gt;\n  mutate(age_group = cut(age,\n                        breaks = c(15, 25, 35, 45, 55, 65),\n                        labels = c(\"Under 25\", \"25-34\", \"35-44\", \"45-54\", \"55 and Over\"),\n                        include.lowest = T,\n                        right = F)) |&gt;\n  mutate(app_usage = cut(app_usage_time_min_day,\n                        breaks = 2,\n                        labels = c(\"Low\", \"High\"),\n                        include.lowest = T,\n                        right = F)) |&gt;\n  mutate(data_usage = cut(data_usage_mb_day,\n                        breaks = 2,\n                        labels = c(\"Light\", \"Heavy\"),\n                        include.lowest = T,\n                        right = F)) |&gt;\n  ggplot() +\n  geom_mosaic(aes(x = product(age_group), fill = user_behavior_class)) +\n  theme_mosaic() +\n  theme(legend.position = \"none\") +\n  xlab(\"Age Group\") +\n  ylab(\"User Behavior Class\") +\n  ggtitle(\"Relative Size of User Behavior Class by Age Group\") +\n  scale_fill_brewer(palette=\"Set1\")\n\nWarning: The `scale_name` argument of `continuous_scale()` is deprecated as of ggplot2\n3.5.0.\n\n\nWarning: The `trans` argument of `continuous_scale()` is deprecated as of ggplot2 3.5.0.\nℹ Please use the `transform` argument instead.\n\n\nWarning: `unite_()` was deprecated in tidyr 1.2.0.\nℹ Please use `unite()` instead.\nℹ The deprecated feature was likely used in the ggmosaic package.\n  Please report the issue at &lt;https://github.com/haleyjeppson/ggmosaic&gt;."
  }
]